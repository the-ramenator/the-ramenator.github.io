<!DOCYPE html>
<!--Add speedrunner mode -->
<html>
    <head>
        <style>
            @font-face {
	 font-family: 'Product Sans';
	 font-style: normal;
	 font-weight: 400;
	 src: local('Open Sans'), local('OpenSans'), url(https://fonts.gstatic.com/s/productsans/v5/HYvgU2fE2nRJvZ5JFAumwegdm0LZdjqr5-oayXSOefg.woff2) format('woff2');
}
            *{
            background: black;
                color: white;
                	 font-family: Product Sans;
  text-align: center;
               margin: 0;
                padding: 0;
                font-size: 20px;

            }
            .container{
            width: 100%;
                background: #481655 !important;
                height: 90vh;
                position: relative;
                top: 6vh;
                border-radius: 0.5rem;
            }
            .btn{
                position: relative;
                top: 35vh;
                width: 45%;
                height: 30vh;
                margin: 0.5rem;
                border-radius: 1rem;
                border: 2px solid white;
                box-shadow: 0 5px #330B3C;
                background: #481655;

            }
            .btn:active{
              box-shadow: 0 2px #330B3C;
  transform: translateY(2px);
                  animation-name: fayde;
  animation-duration: 4s;

            }
            .btn:hover{
            background: #41154B;
            }
            #text{
              position: relative;
                top: 20vh;
                width: 65%;
                left: 17%;
                text-align: center;
                                background: #481655 !important;

            }
            .btn-grid{
                            background: #481655 !important;
}

@keyframes fayde {
    0%{
        opacity: 1;
    }
    50%{
        opacity: 0;
    }
    100%{
        opacity: 1;
    }
}

        </style>
    </head>
    <body>
        <div class="container">
  <div id="text">Text</div>
  <div id="option-buttons" class="btn-grid">
    <button class="btn" id="btn1">Option 1</button>
    <button class="btn" id="btn2">Option 2</button>
  </div>
   </div>
        <script>
        const textElement = document.getElementById('text')
const optionButtonsElement = document.getElementById('option-buttons')

let state = {}

function startGame() {
  state = {}
  showTextNode(1)
}

function showTextNode(textNodeIndex) {
  const textNode = textNodes.find(textNode => textNode.id === textNodeIndex)
  textElement.innerHTML = textNode.text
  while (optionButtonsElement.firstChild) {
    optionButtonsElement.removeChild(optionButtonsElement.firstChild)
  }

  textNode.options.forEach(option => {
    if (showOption(option)) {
      const button = document.createElement('button')
      button.innerText = option.text
      button.classList.add('btn')
      button.addEventListener('click', () => selectOption(option))
      optionButtonsElement.appendChild(button)
    }
  })
}

function showOption(option) {
  return option.requiredState == null || option.requiredState(state)
}

function selectOption(option) {
  const nextTextNodeId = option.nextText
  if (nextTextNodeId <= 0) {
    return startGame()
  }
  state = Object.assign(state, option.setState)
  showTextNode(nextTextNodeId)
}

const textNodes = [
  {
    id: 1,
    text: 'You have spontaneously appeared into this world on January 18, 1856. Your parents, Daniel Williams Jr. and Sarah Price Williams, have decided to name you Daniel Hale Williams. You have 6 siblings. 5 sisters and 1 brother.',
    options: [
      {
        text: 'Continue',
        nextText: 2
      }
    ]
  },
  {
    id: 2,
    text: 'Your father has passed away. You are 10 years old. Do you want to:',
    options: [
      {
        text: 'Stay where you are',
        nextText: 3
      },
      {
        text: 'Go to Baltimore',
        nextText: 4
      }
    ]
  },
  {
    id: 3,
    text: 'You died an untimely death of tuberculosis.',
    options: [
      {
        text: 'Restart',
        nextText: -1
      }
    ]
  },
  {
    id: 4,
    text: 'You become a shoemaker’s apprentice. Do you:',
    options: [
      {
        text: 'Decide to go back to your family, who moved to Illinois',
        nextText: 5
      },
      {
        text: 'Stay',
        nextText: 6
      }
    ]
  },
  {
    id: 6,
    text: 'Your boss got put out of business by the landlord, and you get put out on the streets.',
    options: [
      {
        text: 'Restart',
        nextText: -1
      }
    ]
  },
  {
    id: 5,
    text: 'You are now staying with your family. You have some free time. Do you:',
    options: [
      {
        text: 'A newspaper boy',
        nextText: 7
      },
      {
        text: 'Become a barber',
        nextText: 8
      }
    ]
  },
  {
    id: 7,
    text: 'You could not find a job as a newspaper boy, so you decided to become a barber instead. ',
    options: [
      {
        text: 'Continue',
        nextText: 8
      }
    ]
  },
  {
    id: 8,
    text: 'You are making a solid wage as a barber, however you are feeling unhappy with your work. Do you:',
    options: [
      {
        text: 'Continue as a barber, but sacrifice your happiness.',
        nextText: 9
      },
      {
        text: 'Pursue your education to become a doctor',
        nextText: 10
      }
    ]
  },
  {
    id: 9,
    text: 'Your payroll couldn’t put out your curiosity, so you decide to study to become a doctor anyway.',
    options: [
      {
        text: 'Continue',
        nextText: 10
      }
    ]
  },
  {
    id: 10,
    text: 'You become an apprentice to Dr. Henry Palmer, and continue your studies at Chicago Medical University. After graduation, do you:',
    options: [
      {
        text: 'Stop being an apprentice and look for work elsewhere.',
        nextText: 11
      },
      {
        text: 'Continue with your studies',
        nextText: 12
      }
    ]
  },
  {
    id: 11,
    text: 'You go back to your family, but they tell you to keep studying. You refuse and live an unfulfilling life. You died as a barber with a mild amount of savings. But that’s not how your life is supposed to go! Try again.',
    options: [
      {
        text: 'Restart',
        nextText: -1
      }
    ]
  },
  {
    id: 12,
    text: 'You decided to switch from learning to teaching anatomy at your alma mater, or the university you had attended. You earned the name Dr. Dan, which is what your patients called you.',
    options: [
      {
        text: 'Continue',
        nextText: 13
      }
    ]
  },
  {
    id: 13,
    text: 'Frustrated that black doctors were being refused positions in the staff, you decide to open Provident Hospital and Training School for Nurses. This was the United State’s first hospital that had a nursing and training program for a racially integrated staff.',
    options: [
      {
        text: 'Continue',
        nextText: 14
      }
    ]
  },
  {
    id: 14,
    text: 'A patient with a stab wound in his chest is brought to you. Do you:',
    options: [
      {
        text: 'Operate on the man’s stab wound.',
        nextText: 15
      },
      {
        text: 'Refuse, saying it would be too risky. ',
        nextText: 16
      }
    ]
  },
  {
    id: 16,
    text: 'Coward. The man needs you, so you have to operate on him anyways.',
    options: [
      {
        text: 'Continue',
        nextText: 15
      }
    ]
  },
  {
    id: 15,
    text: 'The open-heart surgery was successful, and the man, James Cornish, survived the following years after the surgery. You decide to go somewhere else.',
    options: [
      {
        text: 'Move to Washington D.C.',
        nextText: 17
      },
      {
        text: 'Move to Wisconsin and settle down to reflect upon your achievements.',
        nextText: 18
      }
    ]
  },
  {
    id: 18,
    text: 'No',
    options: [
      {
        text: 'Restart',
        nextText: -1
      }
    ]
  },
  {
    id: 17,
    text: 'You continue to work at hospitals and fight against racism in the medical world. You meet two nice women. Do you marry:',
    options: [
      {
        text: 'Alice Johnson',
        nextText: 19
      },
      {
        text: 'Sally Goodman',
        nextText: 20
      }
    ]
  },
  {
    id: 20,
    text: 'You marry Sally. A few months into the marriage, you realize that you don’t really love her. She has so many bad habits and keeps asking you for money. You decide to divorce her. You try and find Alice to begin a better relationship with her, but she has already married to somebody else. You become depressed because the love of your life is taken. You die a sad man. However, this is not what Daniel Hale Williams actually did, so you must go back and choose the correct answer.',
    options: [
      {
        text: 'Restart',
        nextText: -1
      }
    ]
  },
  {
    id: 19,
    text: 'You marry Alice, and move to Chicago. You decide to resume your work at Cook County Hospital, then St. Luke’s. You become an important member of the American College of Surgeons. Next, do you:',
    options: [
      {
        text: 'Have a stroke and die five years later.',
        nextText: 21
      },
      {
        text: 'Divorce Alice because she was cheating on you.',
        nextText: 22
      }
    ]
  },
  {
    id: 21,
    text: 'This is actually what happened to Daniel Hale Williams! Congratulations for getting to the end of the game. Thank you for playing. Neil Daniel and Abigail Barnes made this game. Ur welcome :). Credits: Biography.com Editors. “Daniel Hale Williams.” The Biography.com Website, 23 Apr. 2021, <a target="_blank" href="https://www.biography.com/scientist/daniel-hale-williams">biography.com/scientist/daniel-hale-williams</a>.',
    options: [
      {
        text: 'Restart (u won)',
        nextText: -1
      }
    ]
  },
  {
    id: 22,
    text: 'You thought wrong. He was just a colleague. You yelled at your ex-wife for no reason. You die as a sad and guilty man.',
    options: [
      {
        text: 'Restart',
        nextText: -1
      }
    ]
  }
]

startGame()
        </script>
    </body>
</html>
